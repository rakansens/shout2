# システムパターン

このドキュメントは、Shout2プロジェクトで使用されるシステムパターンの説明を提供します。

## アーキテクチャパターン

### モノレポ

Shout2プロジェクトは、モノレポ（モノリシックリポジトリ）パターンを採用しています。これにより、複数のアプリケーションとパッケージを単一のリポジトリで管理し、コードの共有と再利用を促進しています。

### マイクロフロントエンド

各クライアントアプリケーション（ton-client、line-client、admin）は、独立したマイクロフロントエンドとして実装されています。これにより、各アプリケーションを独立して開発・デプロイすることができます。

### 共有パッケージ

共通のコードは、共有パッケージ（ui、api）として実装されています。これにより、コードの重複を避け、一貫性を保ちながら効率的な開発が可能になります。

## デザインパターン

### コンポーネントベース設計

UIは、再利用可能なコンポーネントとして設計されています。各コンポーネントは、特定の責任を持ち、他のコンポーネントと組み合わせて複雑なUIを構築します。

### コンテキストベース状態管理

Reactのコンテキストを使用して、アプリケーションの状態を管理しています。これにより、プロップドリリングを避け、コンポーネント間でデータを効率的に共有することができます。

### カスタムフック

再利用可能なロジックは、カスタムフックとして実装されています。これにより、コードの重複を避け、テストしやすいコードを作成することができます。

## 認証パターン

### プラットフォーム固有の認証

各クライアントアプリケーションは、そのプラットフォーム（LINE、Telegram）の認証メカニズムを使用しています。これにより、ユーザーは既存のアカウントでシームレスにログインすることができます。

### JWTベースの認証

認証後、JWTを使用してユーザーセッションを管理しています。これにより、ステートレスな認証が可能になり、スケーラビリティが向上します。

## データ管理パターン

### サーバーレスデータベース

Supabaseを使用して、サーバーレスのデータベース管理を実現しています。これにより、インフラストラクチャの管理負担を軽減し、スケーラビリティを向上させています。

### リアルタイムデータ同期

Supabaseのリアルタイム機能を使用して、データの変更をリアルタイムでクライアントに反映しています。これにより、ユーザーは常に最新のデータを見ることができます。

## UI/UXパターン

### レスポンシブデザイン

すべてのUIコンポーネントは、レスポンシブデザインを採用しています。これにより、さまざまなデバイスとスクリーンサイズで一貫したユーザーエクスペリエンスを提供することができます。

### プログレッシブエンハンスメント

基本的な機能を確保しながら、利用可能な場合は高度な機能を提供するプログレッシブエンハンスメントアプローチを採用しています。これにより、幅広いデバイスとブラウザでの互換性を確保しています。

### アクセシビリティファースト

すべてのUIコンポーネントは、アクセシビリティを考慮して設計されています。これには、適切なARIAラベル、キーボードナビゲーション、高コントラストモードなどが含まれます。

## 開発パターン

### 型駆動開発

TypeScriptを使用して、型駆動開発を実践しています。これにより、コードの品質と保守性を向上させ、バグを早期に発見することができます。

### コンポーネント駆動開発

UIコンポーネントは、独立して開発・テストされています。これにより、コンポーネントの再利用性と保守性を向上させることができます。

### 継続的インテグレーション/継続的デプロイメント（CI/CD）

GitHub Actionsを使用して、CI/CDパイプラインを実装しています。これにより、コードの品質を確保し、迅速かつ安全にデプロイすることができます。
